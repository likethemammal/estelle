<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <!-- General page specifics -->
    <title>Estelle Miller's artist site.</title>

    <meta name="description" content="The artist site for Estelle Miller, a musician and vocalist in Gainesville, FL. Get the latest updates from her Facebook and Soundcloud pages.">
    <meta name="keywords" content="Estelle Miller, musician, Gainesville, FL, Florida, ukulele, speedingticketgirl, speeding ticket girl, artist, artist site">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

    <!-- Facebook page specifics -->
    <meta property="og:title" content="Estelle Miller's artist site.">
    <meta property="og:description" content="The artist site for Estelle Miller, a musician and vocalist in Gainesville, FL. Get the latest updates from her Facebook and Soundcloud pages.">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="SpeedingTicketGirl">
    <meta property="og:image" content="">

    <!-- Twitter page specifics -->
    <meta name="twitter:title" content="Estelle Miller's artist site.">
    <meta name="twitter:description" content="The artist site for Estelle Miller, a musician and vocalist in Gainesville, FL. Get the latest updates from her Facebook and Soundcloud pages.">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="http://speedingticketgirl.com">
    <meta name="twitter:site" content="@likethemammal">
    <meta name="twitter:image" content="">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="Chris Dolphin">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-37560411-3', 'auto');
        ga('require', 'displayfeatures');
        ga('send', 'pageview');
    </script>

    <link rel='stylesheet' type='text/css' href="styles.css">
    <link rel='stylesheet' type='text/css' href="libs/polyfill.object-fit.css">
    <link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Lato:400,700,900'>

    <style id="duration-styles"></style>
</head>
<body>

<div id="site-wrapper">

    <div id="video-background-container">
        <video
                muted
                loop
                poster="imgs/estelle-bg-blur.jpg"
                id="video-background"
                class="video-js">
            <p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p>
        </video>
        <img id="img-background" src="imgs/estelle-bg-blur.jpg" alt="Blurry background image"/>
    </div>

    <div id="header">
        <div id="tagline-container">
            <div id="tagline" class="cf">

                <h1 id="tagline-header">Estelle Miller</h1>

                <p id="tagline-paragraph">I'm that busker you pass on your way to grab a burrito at your local roach coach. I'm horrible about recording new music, but if you ever want to hear some, let me know and I'll at least get a little video up with my latest stuff. Currently looking for a casual hand percussionist and whoever is down to jam out.</p>

                <div id="tagline-details">

                    <a id="tagline-img-container" title="Estelle Miller's Soundcloud Page" href="https://soundcloud.com/estelle-miller">
                        <img id="tagline-img" title="Estelle Miller's Soundcloud Page" alt="Estelle Miller's profile image" src=""/>
                    </a>

                    <div id="tagline-socials">

                        <div id="facebook-social" class="social-container">
                            <a class="social-icon" title="Estelle Miller's Facebook Page" href="https://www.facebook.com/pages/Estelle-Miller/96726108616">
                                <img src="imgs/icons/facebook-icon.png" alt="Facebook logo">
                            </a>
                            <a class="social-link" title="Estelle Miller's Facebook Page" href="https://www.facebook.com/pages/Estelle-Miller/96726108616">/pages/Estelle-Miller/96726108616</a>
                        </div>

                        <div id="soundcloud-social" class="social-container">
                            <a class="social-icon" title="Estelle Miller's Soundcloud Page" href="https://soundcloud.com/estelle-miller">
                                <img src="imgs/icons/soundcloud-logo.png" alt="Soundcloud logo">
                            </a>
                            <a class="social-link" title="Estelle Miller's Soundcloud Page" href="https://soundcloud.com/estelle-miller">/estelle-miller</a>
                        </div>

                    </div>

                </div>

            </div>
        </div>
    </div>

    <div id="content-container" class="cf">

        <div class="section-container">
            <div id="facebook-section" class="section square">

                <div class="section-logo">
                    <div class="section-logo-container">
                        <img class="animating" src="imgs/icons/facebook-icon.png"/>
                    </div>
                </div>

                <div class="section-header cf">
                    <div class="section-header-logo">
                        <img src="imgs/icons/facebook-icon.png"/>
                    </div>
                    <div class="section-title">Facebook posts</div>
                </div>

                <div class="section-content"></div>

            </div>
        </div>

        <div class="section-container">
            <div id="soundcloud-section" class="section square">

                <div class="section-logo">
                    <div class="section-logo-container">
                        <img class="animating" src="imgs/icons/soundcloud-logo.png"/>
                    </div>
                </div>

                <div class="section-header cf">
                    <div class="section-header-logo">
                        <img src="imgs/icons/soundcloud-logo.png"/>
                    </div>
                    <div class="section-title">Soundcloud tracks</div>
                </div>

                <div class="section-content"></div>

            </div>

        </div>

    </div>

    <div id="footer">

        <small id="copyright">Designed and developed by <a href="http://likethemammal.com" title="Chris Dolphin's Personal Site">Chris Dolphin</a>, <span id="copyright-year">2014</span></small>

        <script>
            var copyright = document.getElementById('copyright-year');
            copyright.innerHTML = new Date().getFullYear();
        </script>

    </div>

</div>

<script src="libs/modernizr-build.js"></script>

<!-- Video Loading Stuff -->
<script>
    var View;
    var Model;
    var videoLoaded = false;

    function onVideoCanAutoplay() {
        setTimeout(function() {
            var video = document.getElementById('video-background');

        if (Modernizr.videoautoplay && Modernizr.video.h264) {
            var src = '';
            var videoSrcs = {
                webm: "https://dl.dropboxusercontent.com/u/64274105/Estelle's%20Videos/estelle-bg.webm",
                ogv: "https://dl.dropboxusercontent.com/u/64274105/Estelle's%20Videos/estelle-bg.ogv",
                mp4: "https://dl.dropboxusercontent.com/u/64274105/Estelle's%20Videos/estelle-bg.mp4"
            };
            var blurVideoSrcs = {
                webm: "https://dl.dropboxusercontent.com/u/64274105/Estelle's%20Videos/estelle-bg-blur.webm",
                ogv: "https://dl.dropboxusercontent.com/u/64274105/Estelle's%20Videos/estelle-bg-blur.ogv",
                mp4: "http://vimeo.com/115364255/download?t=1419462632&v=320346803&s=450deddb49372e0b821ea1b4f0324e60"
            };

            src = blurVideoSrcs.mp4;


//            if (Modernizr.cssfilters) {
//                var blurStr = 'blur(3px)';
//
//                video.style['-webkit-filter'] = blurStr;
//                video.style['filter'] = blurStr;
//
//                if (Modernizr.video.webm) {
//                    src = videoSrcs.webm;
//                } else if (Modernizr.video.ogg) {
//                    src = videoSrcs.ogv;
//                } else if (Modernizr.video.h264) {
//                    src = videoSrcs.mp4;
//                }
//            } else {
//                if (Modernizr.video.webm) {
//                    src = blurVideoSrcs.webm;
//                } else if (Modernizr.video.ogg) {
//                    src = blurVideoSrcs.ogv;
//                } else if (Modernizr.video.h264) {
//                    src = blurVideoSrcs.mp4;
//                }
//            }

            video.src = src;
            video.autoplay = true;
            video.onended = restartVideo;
            video.oncanplaythrough = setTimeout(onVideoReady, 300);
        } else {
            video.style.display = 'none';
            video.src = '';
            console.log(video.buffered);
            onVideoReady();
        }

        //Taken from http://stackoverflow.com/a/8088660/2687479 on 12/23/14
        function restartVideo() {
            console.log('video should restart here');
            video.currentTime = 0.1; //setting to zero breaks iOS 3.2, the value won't update, values smaller than 0.1 was causing bug as well.
            video.play();
        }

        function onVideoReady() {
            try {
                if (video.buffered.end(0) > 3 || !(Modernizr.videoautoplay && Modernizr.video.h264)) {
                    console.log('buffered');
                    videoLoaded = true;
                    if (View && Model) {
                        Model.getSoundcloudFeed();
                        View.onSoundcloudLoaded();
                    }
                } else {
                    setTimeout(onVideoReady, 1000);
                }
            } catch (e) {
                setTimeout(onVideoReady, 1000);
            }

            }
        }, 400); //Wait time needed for modernizer to run test
    }

    setTimeout(function() {
        if (!videoLoaded) {
            onVideoCanAutoplay();
        }
    }, 300)
</script>

<script src="libs/polyfills.js"></script>

<script src="http://connect.soundcloud.com/sdk.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/q.js/1.1.1/q.min.js"></script>

<script>

    objectFit.polyfill({
        selector: 'video, img', // this can be any CSS selector
        fittype: 'cover' // either contain, cover, fill or none
    });

    var clientID = '587aa2d384f7333a886010d5f52f302a';

    SC.initialize({
        client_id: clientID
    });

    transitionSupport = Modernizr.csstransitions;

</script>

<script src="app.js"></script>

</body>
</html>